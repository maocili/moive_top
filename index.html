<!DOCTYPE html>
<!--指明当前的页面使用的语言环境-->
<html lang="zh-CN">

<head>
    <!--指明当前页面的字符编码格式 是  utf-8 -->
    <meta charset="utf-8">
    <!--指明当前的页面在IE浏览器渲染的时候使用最新的渲染引擎来渲染-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--标准的视口设置-->
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>热门电影推荐</title>
    <!-- Bootstrap -->
    <!--bootstrap 核心css文件  -->
    <link href="lib/bootstrap/css/bootstrap.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="lib/html5shiv/html5shiv.min.js"></script>
    <script src="lib/respond/respond.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/drag.css" />
    <link rel="stylesheet" href="css/produce_box.css" />


    <!--bootstrap是依赖jquery的-->
    <script src="lib/jquery/jquery.min.js"></script>

    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=4qXTGvclMqTZXkLsU3twnMA7"></script>
    <script src="js/drag.js"></script>




</head>

<body>
    <!--顶部通栏-->
    <header class="heima_topBar hidden-sm hidden-xs">
        <div class="container">
            <div class="row">
                <div class="col-md-2">
                    <a href="#" class="heima_app">
                        <span class="heima_icon heima_icon_phone"></span>
                        <span>商务合作</span>
                        <span class="glyphicon glyphicon-menu-down"></span>
                        <img src="images/code.jpg" alt="" />
                    </a>
                </div>

                <div class="col-md-5">
                    <a href="#">热门电影推荐</a>
                </div>

                <div class="col-md-2">
                    <input type="text" class="form-control" id="username" placeholder="用户名验证" />
                </div>
                <div class="col-md-2">
                    <button class="btn btn-default" id="set_btn" onclick="set_username()">设置</button>
                    <button class="btn btn-default" id="check_btn" onclick="check_username()">验证</button>
                </div>

            </div>
        </div>
    </header>
    <!--导航栏-->
    <nav class="navbar heima_nav">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <img src="images/logo.gif">
                </a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">热门电影</a></li>
                    <li><a href="#">电影分类</a></li>
                    <li><a href="#">著名导演</a></li>
                    <li><a href="#">免费电影</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#">我的收藏</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!--轮播图-->
    <div class="heima_banner ">
        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators"></ol>
            <div class="carousel-inner" role="listbox"></div>
            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <!--信息模块-->
    <!--手机端隐藏 -->
    <div class="heima_info hidden-xs">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <a href="#">
                        <div class="media">
                            <div class="media-left">
                                <span class="heima_icon heima_icon_E903"></span>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">燃爆“爱国”血性</h4>
                                <p>即将上映的《我的战争》重燃爱国抗战情怀,忆峥嵘岁月致英雄,盘点爱国战争大片!</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 col-sm-6">
                    <a href="#">
                        <div class="media">
                            <div class="media-left">
                                <span class="heima_icon heima_icon_E901"></span>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">火热大片献礼国庆</h4>
                                <p>《我和我的祖国》聚焦于新中国成立来激动人心的七个历史瞬间！</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 col-sm-6">
                    <a href="#">
                        <div class="media">
                            <div class="media-left">
                                <span class="heima_icon heima_icon_E900"></span>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">八一厂经典影片</h4>
                                <p>烈士的一生就像一根火柴,一直潜伏在黑暗里,但恰恰是这根火柴,点亮了新中国的光明！</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 col-sm-6">
                    <a href="#">
                        <div class="media">
                            <div class="media-left">
                                <span class="heima_icon heima_icon_E904"></span>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">中华民族影像情</h4>
                                <p>一幅70年的银幕长卷也是一部书写国家统一、民族大团结的影像史诗</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 col-sm-6">
                    <a href="#">
                        <div class="media">
                            <div class="media-left">
                                <span class="heima_icon heima_icon_E902"></span>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">在线热播综艺</h4>
                                <p>听见“梦想的声音”感受“极限挑战”</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 col-sm-6">
                    <a href="#">
                        <div class="media">
                            <div class="media-left">
                                <span class="heima_icon heima_icon_E907"></span>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">高质量微电影</h4>
                                <p>情感共鸣,用心完成每一部“电影”</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!--预约-->
    <div class="heima_book">
        <div class="container">
            <div class="pull-left">
                <span class="heima_icon heima_icon_E906"></span> 买电影票 <a class="book_link" onclick="drag_control()">立即购买</a>
            </div>
            <div class="drag_box">
                <center><br><br><br>
                    <div id="drag"></div>
                </center>

                <script type="text/javascript">
                    $('#drag').drag();
                </script>
            </div>

        </div>
    </div>
    <!--产品模块-->
    <div class="heima_product">
        <div class="container">
            <!-- Nav tabs -->
            <div class="nav-tabs-product-parent">
                <ul class="nav nav-tabs-product" role="tablist" style="display: inline-block;">
                    <li role="presentation" class="active"><a href="#product_tab_01" aria-controls="home" role="tab" data-toggle="tab">特别推荐</a></li>
                    <li role="presentation"><a href="#product_tab_02" aria-controls="profile" role="tab" data-toggle="tab">视频宣传</a></li>
                    <li role="presentation"><a href="#product_tab_03" aria-controls="messages" role="tab" data-toggle="tab">地理位置</a></li>
                    <li role="presentation"><a href="#product_tab_04" aria-controls="settings" role="tab" data-toggle="tab">身份验证</a></li>
                </ul>
            </div>
            <!-- Tab panes -->
            <div class="tab-content">
                <!-- 特别推荐 -->
                <div role="tabpanel" class="tab-pane active" id="product_tab_01">
                    <div class="produce-pane">
                        <div class="product-pane-flex"></div>

                        <div class="product_box" onmouseenter="produce_img_over(this)" onmouseleave="produce_img_out(this)">
                            <img class="product_img_small" src="images/produce_box/produce_img_1.jpg" width="100%" height="100%">
                            <div class="produce_img_droom1">
                                <div class="produce_img_droom2">
                                    <div>
                                        <img class="product_img_width" src="images/produce_box/produce_img_1_wd.jpg" width="100%" height="100%">
                                    </div>
                                    <div class="produce_img_droom3">
                                        <div class="produce_text">
                                            <h4>
                                                活死人军团
                                            </h4>
                                            <div>2h30m</div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="product_box" onmouseenter="produce_img_over(this)" onmouseleave="produce_img_out(this)">
                            <img class="product_img_small" src="images/produce_box/produce_img_2.jpg" width="100%" height="100%">
                            <div class="produce_img_droom1">
                                <div class="produce_img_droom2">
                                    <div>
                                        <img class="product_img_width" src="images/produce_box/produce_img_2_wd.jpg" width="100%" height="100%">
                                    </div>
                                    <div class="produce_img_droom3">
                                        <div class="produce_text">
                                            <h4>
                                                女巫
                                            </h4>
                                            <div>1h46m</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product_box" onmouseenter="produce_img_over(this)" onmouseleave="produce_img_out(this)">
                            <img class="product_img_small" src="images/produce_box/produce_img_3.jfif" width="100%" height="100%">
                            <div class="produce_img_droom1">
                                <div class="produce_img_droom2">
                                    <div>
                                        <img class="product_img_width" src="images/produce_box/produce_img_3_wd.jfif" width="100%" height="100%">
                                    </div>
                                    <div class="produce_img_droom3">
                                        <div class="produce_text">
                                            <h4>
                                                Way Down
                                            </h4>
                                            <div>1h58m</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="produce-pane">
                        <div class="product-pane-flex"></div>


                        <div class="product_box" onmouseenter="produce_img_over(this)" onmouseleave="produce_img_out(this)">
                            <img class="product_img_small" src="images/produce_box/produce_img_4.jfif" width="100%" height="100%">
                            <div class="produce_img_droom1">
                                <div class="produce_img_droom2">
                                    <div>
                                        <img class="product_img_width" src="images/produce_box/produce_img_4_wd.jfif" width="100%" height="100%">
                                    </div>
                                    <div class="produce_img_droom3">
                                        <div class="produce_text">
                                            <h4>
                                                觉醒
                                            </h4>
                                            <div>1h36m</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product_box" onmouseenter="produce_img_over(this)" onmouseleave="produce_img_out(this)">
                            <img class="product_img_small" src="images/produce_box/produce_img_5.jfif" width="100%" height="100%">
                            <div class="produce_img_droom1">
                                <div class="produce_img_droom2">
                                    <div>
                                        <img class="product_img_width" src="images/produce_box/produce_img_5_wd.jfif" width="100%" height="100%">
                                    </div>
                                    <div class="produce_img_droom3">
                                        <div class="produce_text">
                                            <h4>
                                                拆弹专家2
                                            </h4>
                                            <div>2h05m</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="product_box" onmouseenter="produce_img_over(this)" onmouseleave="produce_img_out(this)">
                            <img class="product_img_small" src="images/produce_box/produce_img_6.jfif" width="100%" height="100%">
                            <div class="produce_img_droom1">
                                <div class="produce_img_droom2">
                                    <div>
                                        <img class="product_img_width" src="images/produce_box/produce_img_6_wd.jfif" width="100%" height="100%">
                                    </div>
                                    <div class="produce_img_droom3">
                                        <div class="produce_text">
                                            <h4>
                                                怪物猎人
                                            </h4>
                                            <div>1h43m</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 视频宣传 -->
                <div role="tabpanel" class="tab-pane" id="product_tab_02">
                    <div role="tabpanel" class="tab-pane" id="product_tab_02">
                        <video id="myVideo" src="images/movie.mp4" width="100%" height="100%">您的浏览器不支持video标签</video>
                        <br /><br />
                        <input type="button" value="播放/暂停" onclick="playPause()" />
                        <input type="button" value="打开/关闭 音乐" onclick="playClose()" />
                    </div>
                </div>
                <!-- 地理位置 -->
                <div role="tabpanel" class="tab-pane" id="product_tab_03" style="width: 100%;height: 100%; overflow: hidden;">
                    <div id="panorama" style="width: 80em;height: 50em;"></div>
                    <div id="normal_map" style="width:80em;height: 50em;"></div>
                    <script type="text/javascript">
                        //全景图展示
                        var panorama = new BMap.Panorama('panorama');
                        panorama.setPosition(new BMap.Point(121.63626, 29.833744)); //根据经纬度坐标展示全景图
                        panorama.setPov({
                            heading: -40,
                            pitch: 6
                        });

                        panorama.addEventListener('position_changed', function(e) {
                            var pos = panorama.getPosition();
                            map.setCenter(new BMap.Point(pos.lng, pos.lat));
                            marker.setPosition(pos);
                        });
                        //地图展示
                        var mapOption = {
                            mapType: BMAP_NORMAL_MAP,
                            maxZoom: 18,
                            drawMargin: 0,
                            enableFulltimeSpotClick: true,
                            enableHighResolution: true
                        }
                        var map = new BMap.Map("normal_map", mapOption);
                        var testpoint = new BMap.Point(121.63626, 29.833744);
                        map.centerAndZoom(testpoint, 18);
                        var marker = new BMap.Marker(testpoint);
                        marker.enableDragging();
                        map.addOverlay(marker);
                        marker.addEventListener('dragend', function(e) {
                            //拖动marker后，全景图位置也随着改变
                            panorama.setPosition(e.point);
                            panorama.setPov({
                                heading: -40,
                                pitch: 6
                            });
                        });
                    </script>
                </div>
                <!-- 身份验证 -->
                <div role="tabpanel" class="tab-pane" id="product_tab_04">
                    <div id="dropzone" class="dropzone">拖拽文件到此处</div>
                    <div id="preview" class="preview"></div>

                    <div id="output" class="output"></div>
                    <script>
                        function getFileInfo(file) {
                            var aMultiples = ["B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB"],
                                sizeinfo;
                            var info = '文件名：' + file.name;

                            for (var nMultiple = 0, nApprox = file.size; nApprox >= 1; nApprox /= 1024, nMultiple++) {
                                sizeinfo = nApprox.toFixed(3) + " " + aMultiples[nMultiple] +
                                    " (" + file.size + "bytes )";
                            }
                            info += "; 大小:" + sizeinfo;
                            info += "; 类型:" + file.type;


                            if (file.type != "image/jpeg" && file.type != "image/png") {
                                alert("上传图片类型错误,请重新长传");
                            } else {
                                alert("验证成功")
                                return info

                            }

                            return null

                        }

                        function handleFiles(files) {
                            var preview = document.getElementById('preview')
                            for (var i = 0; i < files.length; i++) {
                                var file = files[i]
                                var imageType = /image.*/
                                if (!file.type.match(imageType)) {
                                    continue
                                }

                                var img = document.createElement('img')
                                img.file = file
                                var reader = new FileReader()

                                reader.onload = (function(aImg) {
                                    return function(e) {
                                        aImg.src = e.target.result
                                        preview.appendChild(aImg)
                                    }
                                })(img)

                                reader.onprogress = function(e) {
                                    console.log('当前已加载：' + (e.loaded / e.total * 100).toFixed(2) + "%");
                                }
                                reader.readAsDataURL(file)

                            }
                        }



                        var dropzone = document.getElementById('dropzone')
                        dropzone.addEventListener('drop', function(e) {


                            var html = '您一共选择了 ' + e.dataTransfer.files.length + '个文件,文件信息如下:<br>';

                            [].forEach.call(e.dataTransfer.files, function(file) {
                                    html += getFileInfo(file);
                                })
                                //添加时间信息 和 姓名学号
                            html += new Date() + "<br>"
                            document.getElementById('output').innerHTML = html;
                            //添加img展示
                            handleFiles(e.dataTransfer.files)

                            e.preventDefault();
                            e.stopPropagation();

                        }, false);

                        dropzone.addEventListener('dragover', function(e) {

                            if (e.preventDefault) {
                                e.preventDefault();
                            }
                            return false;

                        }, false);
                    </script>
                </div>
            </div>
        </div>
    </div>
    <!--新闻模块-->
    <div class="heima_news">
        <div class="container">
            <div class="row">
                <div class="col-md-2 col-md-offset-2">
                    <div class="news_title">全部新闻</div>
                </div>
                <div class="col-md-1">
                    <div class="news_line hidden-sm hidden-xs"></div>
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs-news" role="tablist">
                        <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab"><span class="heima_icon heima_icon_new01"></span></a></li>
                        <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><span class="heima_icon heima_icon_new02"></span></a></li>

                    </ul>
                </div>
                <div class="col-md-7">
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="home">
                            <ul>
                                <li>
                                    <a href="#">
                                        <span class="hidden-xs">2021-06-01</span> 【新片上映】6月新片上映公告
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span class="hidden-xs">2021-05-21</span> 【档期调整】场次调整公告2021年5月21日-5月22日
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span class="hidden-xs">2021-05-01</span> 【5月新片】5月新片上映公告
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span class="hidden-xs">2021-04-01</span> 【4月新片】4月新片上映公告
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span class="hidden-xs">2021-03-01</span> 【3月新片】3月新片上映公告
                                    </a>
                                </li>

                            </ul>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="profile">
                            <ul>
                                <li>
                                    <a href="#">
                                        <span class="hidden-xs">2021-6-01</span>【AABBCC】DDEETEXT
                                    </a>
                                </li>

                            </ul>

                        </div>
                        <div role="tabpanel" class="tab-pane" id="messages">...</div>
                        <div role="tabpanel" class="tab-pane" id="settings">...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--footer模块-->
    <footer class="heima_partner">
        <div class="container">
            <h3>合作伙伴</h3>
            <ul>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner01"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner02"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner03"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner04"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner05"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner06"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner07"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner08"></a>
                </li>
                <li>
                    <a href="#" class="heima_icon heima_icon_partner09"></a>
                </li>
            </ul>
        </div>
    </footer>

    <!--轮播计数器-->
    <script type="text/template" id="template_point">
        <%$.each(model,function(i,item){%>
            <li data-target="#carousel-example-generic" data-slide-to="<%=i%>" class="<%=i==0?'active':''%>"></li>
            <%});%>
    </script>
    <!--轮播图-->
    <script type="text/template" id="template_image">
        <%_.each(model,function(item,i){%>
            <div class="item <%=i==0?'active':''%>">
                <%if(isMobile){%>
                    <a class="m_imageBox" href="#">
                <img src="<%=item.mb%>" alt=""/>
            </a>
                    <%}else{%>
                        <a class="pc_imageBox" style="background-image: url(<%=item.pc%>)" href="#"></a>
                        <%}%>
            </div>
            <%});%>
    </script>



    <!--bootstrap的核心js文件-->
    <script src="lib/bootstrap/js/bootstrap.js"></script>
    <!--underscore-->
    <script src="lib/underscore/underscore-min.js"></script>
    <script src="js/swipe.js"></script>

    <!--自己的js-->
    <script src="js/swipe.js"></script>
    <script src="js/index.js"></script>

    <script src="js/localStorage.js"></script>

    <script src="js/produce_box.js"></script>

    <script src="js/video.js"></script>




</body>

</html>